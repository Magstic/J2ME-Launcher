/*
 * 全域焦點環策略（Focus Ring Policy）
 * 作用：在 .app-container 下抑制瀏覽器預設焦點環，並提供標準焦點環樣式。
 * 範圍：全域級別選擇器，僅處理可訪問性與視覺焦點表現，不覆蓋元件內部的交互狀態。
 * 依賴：僅依賴設計代幣（--color-accent）作為焦點顏色，避免硬編碼。
 * 載入順序建議：tokens -> base(App.css) -> utility -> focus-ring -> components
 */

/* 1) 預設：抑制 .app-container 下的瀏覽器 outline/box-shadow */
.app-container *:focus,
.app-container *:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

/* 2) 白名單：允許明確選擇加入的元素使用自訂焦點環 */

/* 使用更高的特異性和 !important 來覆蓋全域抑制 */
.app-container .allow-focus-ring:focus,
.app-container .allow-focus-ring:focus-visible {
  outline: 2px solid var(--accent-color) !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 3px var(--focus-ring-weak) !important; /* 柔和光暈（代幣化） */
}

/* 3) 可選：當禁用/aria-disabled 時減少輪廓 */
.app-container .allow-focus-ring[disabled],
.app-container .allow-focus-ring[aria-disabled='true'] {
  pointer-events: none;
}
